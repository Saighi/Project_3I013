<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML Basic 1.1//EN' 'http://www.w3.org/TR/xhtml-basic/xhtml-basic11.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' lang='fr'>

<head>

    <meta http-equiv='Content-Type' content='text/html;charset=utf-8' />

    <link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css'
        integrity='sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T' crossorigin='anonymous'>

    <script>

        function onClick(elem, index) {
            let pages = elem.parentNode.parentNode.getElementsByClassName('pages')[index]
            let proteinstoshowNode = document.getElementsByClassName('proteinsToShow')[index]
            let inputNbProt = document.getElementsByClassName('inputNbProt')[index]
            let text = document.getElementsByClassName('text')[index]


            let proteins = Array.prototype.slice.call(proteinstoshowNode.children)
            let pageNumber = 1
            let nbProtPerPage = proteins.length
            let nbPages = Math.round(proteins.length / nbProtPerPage)
            let mode = proteinstoshowNode.style.display

            proteinstoshowNode.style.display = (mode == '') ? 'none' : ''
            elem.innerHTML = (mode == '' ? 'Show more' : 'Hidden')
            elem.className = (mode == '' ? 'btn btn-primary' : 'btn btn-outline-info')
            pages.style.display = (mode == '') ? 'none' : ''


            inputNbProt.setAttribute("value", nbProtPerPage)
            inputNbProt.setAttribute("onChange", "updateSelector(" + index + ",this.value," + proteins.length + ")")
            inputNbProt.min = 1
            inputNbProt.max = proteins.length
            text.innerText = inputNbProt.value + " prot par page - Page 1 sur " + nbPages

            updateSelector(index, inputNbProt.value, proteins.length)


        }
        function updateSelector(index, nbProtPerPage, protLength) {
            let selector = document.getElementsByClassName('selector')[index]
            let pages = document.getElementsByClassName('pages')[index]
            let text = document.getElementsByClassName('text')[index]
            let nbPages = Math.ceil(protLength / nbProtPerPage)
            //MàJ du Select, on supprime les pages qui sont plus d'actualités
            while (selector.children[nbPages]) {
                selector.removeChild(selector.children[nbPages])
            }
            //On rajoute des pages au selecteur si nécessaire
            let beginning = selector.lastChild ? Number(selector.lastChild.textContent) : 0
            if (beginning < nbPages) {
                for (let i = beginning; i < nbPages; i++) {
                    let op = document.createElement('OPTION')
                    op.innerHTML = (i + 1)
                    selector.appendChild(op)

                }
            }
            //On met à jour onChange
            selector.setAttribute("onChange", "changePage(" + index + ", (this.selectedIndex+1)," + nbProtPerPage + ")")
            //on se remet à la page 1 à chaque fois que le nombre de pages change
            changePage(index, 1, nbProtPerPage)
            text.innerText = nbProtPerPage + " prot par page - Page 1 sur " + nbPages

        }

        function changePage(index, pageNumber, nbProtPerPage) {
            let proteinstoshowNode = document.getElementsByClassName('proteinsToShow')[index]
            let pages = document.getElementsByClassName('pages')[index]
            let text = document.getElementsByClassName('text')[index]
           
            let proteins = Array.prototype.slice.call(proteinstoshowNode.children)

            let debutPage = pageNumber * nbProtPerPage - nbProtPerPage
            debutPage = (debutPage < 0) ? 0 : debutPage
            let finPage = pageNumber * nbProtPerPage

            if (nbProtPerPage > 0) {
                for (let prot of proteins) {
                    prot.style.display = 'none'
                }
                for (let prot of proteins.slice(debutPage, finPage)) {
                    prot.style.display = ''
                }
            }
            text.innerText = nbProtPerPage + " prot par page - Page " + pageNumber + " sur " + Math.ceil(proteins.length / nbProtPerPage)

        }
    </script>
    <title>
        Protéines affichage
    </title>

</head>

<body>
    <svg>
        <defs>
            <linearGradient id='MyGradientPF00385' x2='100%' y2='0%'>
                <stop offset='50%' stop-color='#A52A2A'></stop>
                <stop offset='50%' stop-color='#008B8B'></stop>
            </linearGradient>
        </defs>
        <defs>
            <linearGradient id='MyGradientPF00595' x2='0%' y2='100%'>
                <stop offset='50%' stop-color='#FFF0F5'></stop>
                <stop offset='50%' stop-color='#A0522D'></stop>
            </linearGradient>
        </defs>
        <defs>
            <linearGradient id='MyGradientPF04851' x2='100%' y2='0%'>
                <stop offset='50%' stop-color='#FF00FF'></stop>
                <stop offset='50%' stop-color='#008B8B'></stop>
            </linearGradient>
        </defs>
        <defs>
            <linearGradient id='MyGradientPF00145' x2='0%' y2='100%'>
                <stop offset='100%' stop-color='#FFA07A'></stop>
            </linearGradient>
        </defs>
        <defs>
            <linearGradient id='MyGradientPF01485' x2='100%' y2='0%'>
                <stop offset='50%' stop-color='#F5DEB3'></stop>
                <stop offset='50%' stop-color='#008080'></stop>
            </linearGradient>
        </defs>
        <defs>
            <linearGradient id='MyGradientPF11875' x2='0%' y2='100%'>
                <stop offset='50%' stop-color='#000080'></stop>
                <stop offset='50%' stop-color='#808080'></stop>
            </linearGradient>
        </defs>
        <defs>
            <linearGradient id='MyGradientPF00350' x2='0%' y2='100%'>
                <stop offset='50%' stop-color='#CD853F'></stop>
                <stop offset='50%' stop-color='#B0C4DE'></stop>
            </linearGradient>
        </defs>
        <defs>
            <linearGradient id='MyGradientPF14634' x2='0%' y2='100%'>
                <stop offset='50%' stop-color='#F0F8FF'></stop>
                <stop offset='50%' stop-color='#F0F8FF'></stop>
            </linearGradient>
        </defs>
        <defs>
            <linearGradient id='MyGradientPF00271' x2='0%' y2='100%'>
                <stop offset='50%' stop-color='#808080'></stop>
                <stop offset='50%' stop-color='#EEE8AA'></stop>
            </linearGradient>
        </defs>
        <defs>
            <linearGradient id='MyGradientPF12047' x2='0%' y2='100%'>
                <stop offset='50%' stop-color='#C0C0C0'></stop>
                <stop offset='50%' stop-color='#AFEEEE'></stop>
            </linearGradient>
        </defs>
        <defs>
            <linearGradient id='MyGradientPF01426' x2='100%' y2='0%'>
                <stop offset='100%' stop-color='#FFFF00'></stop>
            </linearGradient>
        </defs>
    </svg>
    <table class='table table-hover'>
        <tbody class='cluster'>
            <thead>
                <td colspan='2'>
                    <div class='alert alert-primary' role='alert' align='left'>
                        <ul class='list-inline'>
                            <li class='list-inline-item'>
                                <h2>Groupe 1</h2>
                            </li>
                            <li class='list-inline-item'>
                                <h5>5 protéines</h5>
                            </li>
                            <li class='list-inline-item'>
                                <button type='button' class=' btn btn-primary' onClick='javascript:onClick(this,0)'>
                                    Show More
                                </button>
                            </li>
                            <div class="pages" style="display:none;">
                                <p class="text"></p>
                                <input type="number" class="inputNbProt">
                                &emsp;&emsp;&emsp;
                                <select class="selector"></select>
                            </div>
                        </ul>
                    </div>
                </td>
            </thead>
            <tr style="outline: thin solid">
                <th>.0172519652_Coscinodiscus_wailesii</th>
                <td><svg height='84' width='1403'>
                        <line x1='10' y1='42' x2='1373' y2='42' style='stroke:black;stroke-width:2' />
                        <text x='150' y='12'>150</text>
                        <line x1="150" y1="12" x2="150" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='300' y='12'>300</text>
                        <line x1="300" y1="12" x2="300" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='450' y='12'>450</text>
                        <line x1="450" y1="12" x2="450" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='600' y='12'>600</text>
                        <line x1="600" y1="12" x2="600" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='750' y='12'>750</text>
                        <line x1="750" y1="12" x2="750" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='900' y='12'>900</text>
                        <line x1="900" y1="12" x2="900" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='1050' y='12'>1050</text>
                        <line x1="1050" y1="12" x2="1050" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='1200' y='12'>1200</text>
                        <line x1="1200" y1="12" x2="1200" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='1350' y='12'>1350</text>
                        <line x1="1350" y1="12" x2="1350" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" />
                        <polygon points='49,27 66,27 76,42 66,57 49,57 39,42' fill='url(#MyGradientPF00385)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF00385 Taille : 37 Début : 39 Confiance : 1.18e-14</title>
                        </polygon>
                        <rect x='305' y='27' width='37' height='30' fill='url(#MyGradientPF00595)' stroke='black'
                            stroke-width='2'>
                            <title> Nom : PF00595 Taille : 37 Début : 305 Confiance : 5.17e-09</title>
                        </rect>
                        <polygon points='805,27 885,32 965,27 965,57 885,52 805,57' fill='url(#MyGradientPF04851)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF04851 Taille : 160 Début : 805 Confiance : 2.76e-58</title>
                        </polygon>
                        <polygon points='1010,27 1170,27 1180,42 1170,57 1010,57 1000,42' fill='url(#MyGradientPF00145)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF00145 Taille : 180 Début : 1000 Confiance : 3.53e-31</title>
                        </polygon>
                    </svg></td>
        <tbody class="proteinsToShow" style="display:none;">
            <tr>
                <th>.Agaricus_bisporus_XP_006461865.1</th>
                <td><svg height='84' width='2396'>
                        <line x1='10' y1='42' x2='2366' y2='42' style='stroke:black;stroke-width:2' />
                        <text x='150' y='12'>150</text>
                        <line x1="150" y1="12" x2="150" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='300' y='12'>300</text>
                        <line x1="300" y1="12" x2="300" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='450' y='12'>450</text>
                        <line x1="450" y1="12" x2="450" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='600' y='12'>600</text>
                        <line x1="600" y1="12" x2="600" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='750' y='12'>750</text>
                        <line x1="750" y1="12" x2="750" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='900' y='12'>900</text>
                        <line x1="900" y1="12" x2="900" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='1050' y='12'>1050</text>
                        <line x1="1050" y1="12" x2="1050" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='1200' y='12'>1200</text>
                        <line x1="1200" y1="12" x2="1200" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='1350' y='12'>1350</text>
                        <line x1="1350" y1="12" x2="1350" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='1500' y='12'>1500</text>
                        <line x1="1500" y1="12" x2="1500" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='1650' y='12'>1650</text>
                        <line x1="1650" y1="12" x2="1650" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='1800' y='12'>1800</text>
                        <line x1="1800" y1="12" x2="1800" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='1950' y='12'>1950</text>
                        <line x1="1950" y1="12" x2="1950" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='2100' y='12'>2100</text>
                        <line x1="2100" y1="12" x2="2100" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='2250' y='12'>2250</text>
                        <line x1="2250" y1="12" x2="2250" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" />
                        <polygon points='282,27 589,27 599,42 589,57 282,57 272,42' fill='url(#MyGradientPF00145)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF00145 Taille : 327 Début : 272 Confiance : 9.16e-120</title>
                        </polygon>
                        <ellipse cx='712.5' cy='42' rx='16.5' ry='15' fill='url(#MyGradientPF01485)' stroke='black'
                            stroke-width='2'>
                            <title> Nom : PF01485 Taille : 33 Début : 696 Confiance : 0.000158</title>
                        </ellipse>
                        <polygon points='1253,27 1320.5,32 1388,27 1388,57 1320.5,52 1253,57'
                            fill='url(#MyGradientPF04851)' stroke='black' stroke-width='2'>
                            <title> Nom : PF04851 Taille : 135 Début : 1253 Confiance : 3.24e-12</title>
                        </polygon>
                        <ellipse cx='1467.5' cy='42' rx='42.5' ry='15' fill='url(#MyGradientPF11875)' stroke='black'
                            stroke-width='2'>
                            <title> Nom : PF11875 Taille : 85 Début : 1425 Confiance : 0.000771</title>
                        </ellipse>
                        <polygon points='1817,27 1951,27 1961,42 1951,57 1817,57 1827,42' fill='url(#MyGradientPF00350)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF00350 Taille : 144 Début : 1817 Confiance : 0.001</title>
                        </polygon>
                        <polygon points='2052,27 2070,32 2088,27 2088,57 2070,52 2052,57' fill='url(#MyGradientPF14634)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF14634 Taille : 36 Début : 2052 Confiance : 3.34e-08</title>
                        </polygon>
                        <rect x='2145' y='27' width='100' height='30' rx='10' fill='url(#MyGradientPF00271)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF00271 Taille : 100 Début : 2145 Confiance : 8.73e-09</title>
                        </rect>
                    </svg></td>
            <tr>
                <th>.Ajellomyces_capsulatus_C0NH24</th>
                <td><svg height='84' width='1195'>
                        <line x1='10' y1='42' x2='1165' y2='42' style='stroke:black;stroke-width:2' />
                        <text x='150' y='12'>150</text>
                        <line x1="150" y1="12" x2="150" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='300' y='12'>300</text>
                        <line x1="300" y1="12" x2="300" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='450' y='12'>450</text>
                        <line x1="450" y1="12" x2="450" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='600' y='12'>600</text>
                        <line x1="600" y1="12" x2="600" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='750' y='12'>750</text>
                        <line x1="750" y1="12" x2="750" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='900' y='12'>900</text>
                        <line x1="900" y1="12" x2="900" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='1050' y='12'>1050</text>
                        <line x1="1050" y1="12" x2="1050" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" />
                        <polygon points='137,27 241,27 231,57 147,57' fill='url(#MyGradientPF12047)' stroke='black'
                            stroke-width='2'>
                            <title> Nom : PF12047 Taille : 104 Début : 137 Confiance : 4.28e-47</title>
                        </polygon>
                        <rect x='406' y='27' width='90' height='30' rx='10' fill='url(#MyGradientPF01426)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF01426 Taille : 90 Début : 406 Confiance : 3.54e-30</title>
                        </rect>
                        <rect x='516' y='27' width='88' height='30' rx='10' fill='url(#MyGradientPF01426)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF01426 Taille : 88 Début : 516 Confiance : 2.97e-09</title>
                        </rect>
                        <polygon points='675,27 1030,27 1040,42 1030,57 675,57 665,42' fill='url(#MyGradientPF00145)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF00145 Taille : 375 Début : 665 Confiance : 4.44e-130</title>
                        </polygon>
                    </svg></td>
            <tr>
                <th>.Ajellomyces_capsulatus_C0NHN8</th>
                <td><svg height='84' width='736'>
                        <line x1='10' y1='42' x2='706' y2='42' style='stroke:black;stroke-width:2' />
                        <text x='150' y='12'>150</text>
                        <line x1="150" y1="12" x2="150" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='300' y='12'>300</text>
                        <line x1="300" y1="12" x2="300" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='450' y='12'>450</text>
                        <line x1="450" y1="12" x2="450" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='600' y='12'>600</text>
                        <line x1="600" y1="12" x2="600" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" />
                        <rect x='118' y='27' width='124' height='30' rx='10' fill='url(#MyGradientPF01426)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF01426 Taille : 124 Début : 118 Confiance : 2.11e-35</title>
                        </rect>
                        <polygon points='333,27 529,27 539,42 529,57 333,57 323,42' fill='url(#MyGradientPF00145)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF00145 Taille : 216 Début : 323 Confiance : 8.51e-84</title>
                        </polygon>
                        <polygon points='552,27 609,27 619,42 609,57 552,57 542,42' fill='url(#MyGradientPF00145)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF00145 Taille : 77 Début : 542 Confiance : 1.31e-20</title>
                        </polygon>
                    </svg></td>
            <tr>
                <th>.Thaoce1_87449_rna2680_DNMT4</th>
                <td><svg height='84' width='728'>
                        <line x1='10' y1='42' x2='698' y2='42' style='stroke:black;stroke-width:2' />
                        <text x='150' y='12'>150</text>
                        <line x1="150" y1="12" x2="150" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='300' y='12'>300</text>
                        <line x1="300" y1="12" x2="300" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='450' y='12'>450</text>
                        <line x1="450" y1="12" x2="450" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" /><text x='600' y='12'>600</text>
                        <line x1="600" y1="12" x2="600" y2="72" stroke="black" stroke-width="3"
                            stroke-dasharray="5,5" />
                        <polygon points='365,27 615,27 625,42 615,57 365,57 355,42' fill='url(#MyGradientPF00145)'
                            stroke='black' stroke-width='2'>
                            <title> Nom : PF00145 Taille : 270 Début : 355 Confiance : 5.37e-71</title>
                        </polygon>
                    </svg></td>
        </tbody>
        </tbody>
    </table>
</body>

</html>